use utf8;

#------------------------------------------------------------------------
# Compiled template generated by the Template Toolkit version 2.24
#------------------------------------------------------------------------

Template::Document->new({
    METADATA => {
        'modtime' => '1389716719',
        'name' => 'attachment/createformcontents.html.tmpl',
    },
    BLOCK => sub {
        my $context = shift || die "template sub called without context\n";
        my $stash   = $context->stash;
        my $output  = '';
        my $_tt_error;
        
        eval { BLOCK: {
    $output .=  "\n";
#line 9 "template/en/default/attachment/createformcontents.html.tmpl"
    $stash->set('max_local', $stash->get(['Param', [ 'maxlocalattachment' ]]) * 1024);
#line 10 "template/en/default/attachment/createformcontents.html.tmpl"
    $stash->set('max_limit', $stash->get(['Param', [ 'maxattachmentsize' ]]) > $stash->get('max_local') ? $stash->get(['Param', [ 'maxattachmentsize' ]]) : $stash->get('max_local'));
    $output .=  "\n<tr class=\"attachment_data\">\n  <th><label for=\"data\">File</label>:</th>\n  <td>\n    <em>Enter the path to the file on your computer</em> (or\n    <a id=\"attachment_data_controller\" href=\"javascript:TUI_toggle_class('attachment_text_field');\n                                             javascript:TUI_toggle_class('attachment_data')\"\n    >paste text as attachment</a>).<br>\n    <input type=\"file\" id=\"data\" name=\"data\" size=\"50\" onchange=\"DataFieldHandler()\">\n    <br><em>(File size limit: ";
#line 19 "template/en/default/attachment/createformcontents.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('max_limit');
        
        &$_tt_filter($output);
    };
    
    $output .=  " KB)</em>\n  </td>\n</tr>\n<tr class=\"attachment_text_field\">\n  <th><label for=\"attach_text\">File</label>:</th>\n  <td>\n    <em>Paste the text to be added as an attachment</em> (or\n    <a id=\"attachment_text_field_controller\" href=\"javascript:TUI_toggle_class('attachment_text_field');\n                                                   javascript:TUI_toggle_class('attachment_data')\"\n    >attach a file</a>).<br>\n    <textarea id=\"attach_text\" name=\"attach_text\" cols=\"80\" rows=\"15\"\n              onkeyup=\"TextFieldHandler()\" onblur=\"TextFieldHandler()\"></textarea>\n  </td>\n</tr>\n<tr>\n  <th class=\"required\"><label for=\"description\">Description</label>:</th>\n  <td>\n    <em>Describe the attachment briefly.</em><br>\n    <input type=\"text\" id=\"description\" name=\"description\" class=\"required\"\n           size=\"60\" maxlength=\"200\">\n  </td>\n</tr>\n<tr";
#line 41 "template/en/default/attachment/createformcontents.html.tmpl"
    if (!($stash->get(['bug', 0, 'id', 0]))) {
    $output .=  ' class="expert_fields"';
    }
    
    $output .=  ">\n  <th>Content Type:</th>\n  <td>\n    <em>If the attachment is a patch, check the box below.</em><br>\n    <input type=\"checkbox\" id=\"ispatch\" name=\"ispatch\" value=\"1\"\n           onchange=\"setContentTypeDisabledState(this.form);\">\n    <label for=\"ispatch\">patch</label><br><br>\n    ";
    $output .=  "\n    <script type=\"text/javascript\">\n      YAHOO.util.Event.onDOMReady(function() {\n          bz_fireEvent(document.getElementById('ispatch'), 'change');\n      });\n    </script>\n\n    <em>Otherwise, choose a method for determining the content type.</em><br>\n    <input type=\"radio\" id=\"autodetect\"\n           name=\"contenttypemethod\" value=\"autodetect\" checked=\"checked\">\n      <label for=\"autodetect\">auto-detect</label><br>\n    <input type=\"radio\" id=\"list\"\n           name=\"contenttypemethod\" value=\"list\">\n      <label for=\"list\">select from list</label>:\n      <select name=\"contenttypeselection\" id=\"contenttypeselection\"\n              onchange=\"this.form.contenttypemethod[1].checked = true;\">";
#line 64 "template/en/default/attachment/createformcontents.html.tmpl"
    $output .=  $context->process('content_types');
    $output .=  "\n      </select><br>\n    <input type=\"radio\" id=\"manual\"\n                 name=\"contenttypemethod\" value=\"manual\">\n      <label for=\"manual\">enter manually</label>:\n      <input type=\"text\" name=\"contenttypeentry\" id=\"contenttypeentry\"\n             size=\"30\" maxlength=\"200\"\n             onchange=\"if (this.value) this.form.contenttypemethod[2].checked = true;\">\n  </td>\n</tr>\n<tr";
#line 74 "template/en/default/attachment/createformcontents.html.tmpl"
    if (!($stash->get(['bug', 0, 'id', 0]))) {
    $output .=  ' class="expert_fields"';
    }
    
    $output .=  ">\n  <td> </td>\n  <td>";
#line 79 "template/en/default/attachment/createformcontents.html.tmpl"
    if ($stash->get('flag_types') && $stash->get(['flag_types', 0, 'size', 0]) > 0) {
#line 78 "template/en/default/attachment/createformcontents.html.tmpl"
    $output .=  $context->process('flag/list.html.tmpl');
    $output .=  "<br>";
    }
    
    $output .=  "\n  </td>\n</tr>\n";
    
    $output .=  "\n";
        } };
        if ($@) {
            $_tt_error = $context->catch($@, \$output);
            die $_tt_error unless $_tt_error->type eq 'return';
        }
    
        return $output;
    },
    DEFBLOCKS => {
        'content_types' => sub {
            my $context = shift || die "template sub called without context\n";
            my $stash   = $context->stash;
            my $output  = '';
            my $_tt_error;
            
            eval { BLOCK: {
#line 84 "template/en/default/attachment/createformcontents.html.tmpl"
        $stash->set('mimetypes', [ { 'type' => 'text/plain', 'desc' => 'plain text'  }, { 'type' => 'text/html', 'desc' => 'HTML source'  }, { 'type' => 'application/xml', 'desc' => 'XML source'  }, { 'type' => 'image/gif', 'desc' => 'GIF image'  }, { 'type' => 'image/jpeg', 'desc' => 'JPEG image'  }, { 'type' => 'image/png', 'desc' => 'PNG image'  }, { 'type' => 'application/pdf', 'desc' => 'PDF document'  }, { 'type' => 'application/octet-stream', 'desc' => 'binary file'  } ]);
#line 93 "template/en/default/attachment/createformcontents.html.tmpl"
        $output .=  $stash->get(['Hook', 0, 'process', [ 'mimetypes', 'attachment/createformcontents.html.tmpl' ]]);
        $output .=  "\n";
#line 97 "template/en/default/attachment/createformcontents.html.tmpl"
        
        # FOREACH 
        do {
            my ($_tt_value, $_tt_error, $_tt_oldloop);
            my $_tt_list = $stash->get('mimetypes');
            
            unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
                $_tt_list = Template::Config->iterator($_tt_list)
                    || die $Template::Config::ERROR, "\n"; 
            }
        
            ($_tt_value, $_tt_error) = $_tt_list->get_first();
            eval { $_tt_oldloop = $stash->get('loop') };
            $stash->set('loop', $_tt_list);
            eval {
        FOR1:   while (! $_tt_error) {
                    $stash->{'m'} = $_tt_value;
        $output .=  "\n    <option value=\"";
#line 96 "template/en/default/attachment/createformcontents.html.tmpl"
        
        # FILTER
        $output .=  do {
            my $output = '';
            my $_tt_filter = $context->filter('html')
                      || $context->throw($context->error);
        
        $output .=  $stash->get(['m', 0, 'type', 0]);
            
            &$_tt_filter($output);
        };
        
        $output .=  "\">";
#line 96 "template/en/default/attachment/createformcontents.html.tmpl"
        
        # FILTER
        $output .=  do {
            my $output = '';
            my $_tt_filter = $context->filter('html')
                      || $context->throw($context->error);
        
        $output .=  $stash->get(['m', 0, 'desc', 0]);
            
            &$_tt_filter($output);
        };
        
        $output .=  " (";
#line 96 "template/en/default/attachment/createformcontents.html.tmpl"
        
        # FILTER
        $output .=  do {
            my $output = '';
            my $_tt_filter = $context->filter('html')
                      || $context->throw($context->error);
        
        $output .=  $stash->get(['m', 0, 'type', 0]);
            
            &$_tt_filter($output);
        };
        
        $output .=  ")</option>";;
                    ($_tt_value, $_tt_error) = $_tt_list->get_next();
                }
            };
            $stash->set('loop', $_tt_oldloop);
            die $@ if $@;
            $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
            die $_tt_error if $_tt_error;
        };
        
            } };
            if ($@) {
                $_tt_error = $context->catch($@, \$output);
                die $_tt_error unless $_tt_error->type eq 'return';
            }
        
            return $output;
        },
    },
});
