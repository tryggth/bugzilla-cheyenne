use utf8;

#------------------------------------------------------------------------
# Compiled template generated by the Template Toolkit version 2.24
#------------------------------------------------------------------------

Template::Document->new({
    METADATA => {
        'modtime' => '1389716719',
        'name' => 'search/form.html.tmpl',
    },
    BLOCK => sub {
        my $context = shift || die "template sub called without context\n";
        my $stash   = $context->stash;
        my $output  = '';
        my $_tt_error;
        
        eval { BLOCK: {
    $output .=  "\n";
#line 9 "template/en/default/search/form.html.tmpl"
    $output .=  $context->process('global/field-descs.none.tmpl');
    $output .=  "\n\n<input type=\"hidden\" id=\"no_redirect\" name=\"no_redirect\" value=\"0\">\n<script type=\"text/javascript\">\n  if (history && history.replaceState) {\n    var no_redirect = document.getElementById(\"no_redirect\");\n    no_redirect.value = 1;\n  }\n\n// Hide the Advanced Fields by default, unless the user has a cookie\n// that specifies otherwise.\n// &#9656; and &#9662; are both utf8 escaped characters for right \n//    and down facing arrows respectivly.\nTUI_alternates['history_query'] = '&#9658;';\nTUI_alternates['people_query'] = '&#9658;';\nTUI_alternates['information_query'] = '&#9658;';\n\nTUI_hide_default('history_query');\nTUI_hide_default('people_query');\nTUI_hide_default('information_query');\n</script>\n";
#line 31 "template/en/default/search/form.html.tmpl"
    $stash->set('query_types', [ 'allwordssubstr', 'anywordssubstr', 'substring', 'casesubstring', 'allwords', 'anywords', 'regexp', 'notregexp' ]);
    $output .=  "\n\n";
#line 43 "template/en/default/search/form.html.tmpl"
    $stash->set('thisformat', $stash->get('query_format') ne '' ? $stash->get('query_format') : $stash->get('format'));
    $output .=  "\n<input type=\"hidden\" name=\"query_format\" value=\"";
#line 44 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('thisformat');
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">\n\n";
    $output .=  "\n\n  <div class=\"search_field_row\" id=\"summary_field\">";
#line 49 "template/en/default/search/form.html.tmpl"
    $output .=  $context->include('search/field.html.tmpl', { 'field' => $stash->get(['bug_fields', 0, 'short_desc', 0]), 'types' => $stash->get('query_types'), 'value' => $stash->get(['default', 0, 'short_desc', 0, 0, 0]), 'type_selected' => $stash->get(['default', 0, 'short_desc_type', 0, 0, 0]), 'accesskey' => 's' });
    $output .=  "\n      <script type=\"text/javascript\"> <!--\n          document.getElementById('short_desc').focus();\n      // -->\n      </script>\n";
#line 64 "template/en/default/search/form.html.tmpl"
    if ($stash->get('button_name')) {
    $output .=  "\n        <input type=\"submit\" id=\"";
#line 62 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('css_class_quote')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('button_name');
        
        &$_tt_filter($output);
    };
    
    $output .=  "_top\"\n               value=\"";
#line 63 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('button_name');
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">";
    }
    
    $output .=  "\n  </div>\n\n";
    $output .=  "\n";
#line 69 "template/en/default/search/form.html.tmpl"
    $stash->set('value_controllers', { 'classification' => { 'products' => $stash->get(['bug_fields', 0, 'product', 0])  }, 'product' => { 'components' => $stash->get(['bug_fields', 0, 'component', 0]), 'versions' => $stash->get(['bug_fields', 0, 'version', 0]), 'milestones' => $stash->get(['bug_fields', 0, 'target_milestone', 0])  }  });
    $output .=  "\n";
#line 76 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['Hook', 0, 'process', [ 'before_selects_top' ]]);
#line 83 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['Param', [ 'useclassification' ]])) {
#line 78 "template/en/default/search/form.html.tmpl"
    $output .=  $context->include('search/field.html.tmpl', { 'field' => $stash->get(['bug_fields', 0, 'classification', 0]), 'accesskey' => 'c', 'value' => $stash->get(['default', 0, 'classification', 0]) });
    }
    
    $output .=  "\n";
#line 85 "template/en/default/search/form.html.tmpl"
    $output .=  $context->include('search/field.html.tmpl', { 'field' => $stash->get(['bug_fields', 0, 'product', 0]), 'accesskey' => 'p', 'value' => $stash->get(['default', 0, 'product', 0]) });
#line 90 "template/en/default/search/form.html.tmpl"
    $output .=  $context->include('search/field.html.tmpl', { 'field' => $stash->get(['bug_fields', 0, 'component', 0]), 'accesskey' => 'm', 'value' => $stash->get(['default', 0, 'component', 0]) });
#line 95 "template/en/default/search/form.html.tmpl"
    $output .=  $context->include('search/field.html.tmpl', { 'field' => $stash->get(['bug_fields', 0, 'bug_status', 0]), 'accesskey' => 'a', 'value' => $stash->get(['default', 0, 'bug_status', 0]) });
#line 100 "template/en/default/search/form.html.tmpl"
    $output .=  $context->include('search/field.html.tmpl', { 'field' => $stash->get(['bug_fields', 0, 'resolution', 0]), 'accesskey' => 'r', 'value' => $stash->get(['default', 0, 'resolution', 0]) });
    $output .=  "\n";
#line 106 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['Hook', 0, 'process', [ 'after_selects_top' ]]);
    $output .=  "\n\n<div id=\"detailed_information\" class=\"bz_section_title\">\n  <div id=\"information_query_controller\" class=\"arrow\">&#9660;</div>\n  <a href=\"javascript:TUI_toggle_class('information_query')\">\n    Detailed ";
#line 111 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['terms', 0, 'Bug', 0]);
    $output .=  " Information\n  </a>\n  <span class=\"section_help\">Narrow results by the following fields: \n    ";
#line 114 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field_descs', 0, 'longdesc', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "s, ";
#line 114 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field_descs', 0, 'bug_file_loc', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  ", ";
#line 115 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['Param', [ 'usestatuswhiteboard' ]])) {
    $output .=  " ";
#line 115 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field_descs', 0, 'status_whiteboard', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  ", ";
    }
    
#line 116 "template/en/default/search/form.html.tmpl"
    if ($stash->get('use_keywords')) {
    $output .=  " ";
#line 116 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field_descs', 0, 'keywords', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  ", ";
    }
    
#line 117 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['user', 0, 'is_timetracker', 0])) {
    $output .=  " ";
#line 117 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field_descs', 0, 'deadline', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  ", ";
    }
    
#line 118 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['terms', 0, 'Bug', 0]);
    $output .=  " Numbers, ";
#line 118 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field_descs', 0, 'version', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  ", ";
#line 119 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['Param', [ 'usetargetmilestone' ]])) {
    $output .=  " ";
#line 119 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field_descs', 0, 'target_milestone', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  ", ";
    }
    
#line 120 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field_descs', 0, 'bug_severity', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  ", ";
#line 120 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field_descs', 0, 'priority', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  ", ";
#line 120 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field_descs', 0, 'rep_platform', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  ", \n    ";
#line 121 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field_descs', 0, 'op_sys', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\n  </span>\n</div>\n";
    $output .=  "\n<div id=\"detailed_information_section\" class=\"bz_search_section information_query\">";
#line 126 "template/en/default/search/form.html.tmpl"
    $stash->set('freetext_fields', [ { 'field' => $stash->get(['bug_fields', 0, 'longdesc', 0]), 'accesskey' => 'c'  }, { 'field' => $stash->get(['bug_fields', 0, 'bug_file_loc', 0]), 'accesskey' => 'u'  }, { 'field' => $stash->get(['bug_fields', 0, 'status_whiteboard', 0]), 'accesskey' => 'w'  }, { 'field' => $stash->get(['bug_fields', 0, 'keywords', 0]), 'accesskey' => 'k', 'qtypes' => [ 'allwords', 'anywords', 'nowords', 'regexp', 'notregexp' ]  } ]);
#line 133 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['Hook', 0, 'process', [ 'before_freetext_fields' ]]);
    $output .=  "\n  \n  ";
#line 154 "template/en/default/search/form.html.tmpl"
    
    # FOREACH 
    do {
        my ($_tt_value, $_tt_error, $_tt_oldloop);
        my $_tt_list = $stash->get('freetext_fields');
        
        unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
            $_tt_list = Template::Config->iterator($_tt_list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($_tt_value, $_tt_error) = $_tt_list->get_first();
        eval { $_tt_oldloop = $stash->get('loop') };
        $stash->set('loop', $_tt_list);
        eval {
    FOR1:   while (! $_tt_error) {
                $stash->{'field_container'} = $_tt_value;
#line 137 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['field_container', 0, 'field', 0, 'name', 0]) eq 'status_whiteboard' && ! $stash->get(['Param', [ 'usestatuswhiteboard' ]])) {
    ($_tt_value, $_tt_error) = $_tt_list->get_next();
    next FOR1;
    
    }
    
#line 140 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['field_container', 0, 'field', 0, 'name', 0]) eq 'keywords' && ! $stash->get('use_keywords')) {
    ($_tt_value, $_tt_error) = $_tt_list->get_next();
    next FOR1;
    
    }
    
    $output .=  "\n    <div class=\"search_field_row\">";
#line 144 "template/en/default/search/form.html.tmpl"
    $stash->set('type', $stash->get(['field_container', 0, 'field', 0, 'name', 0])  . '_type');
#line 145 "template/en/default/search/form.html.tmpl"
    $stash->set('possible_values', $stash->get(['field_container', 0, 'field', 0, 'name', 0]) eq 'keywords' ? $stash->get('all_keywords') : [ ]);
#line 146 "template/en/default/search/form.html.tmpl"
    $output .=  $context->include('search/field.html.tmpl', { 'field' => $stash->get(['field_container', 0, 'field', 0]), 'types' => $stash->get(['field_container', 0, 'qtypes', 0]) || $stash->get('query_types'), 'accesskey' => $stash->get(['field_container', 0, 'accesskey', 0]), 'value' => $stash->get(['default', 0, $stash->get(['field_container', 0, 'field', 0, 'name', 0]), 0, 0, 0]), 'type_selected' => $stash->get(['default', 0, $stash->get('type'), 0, 0, 0]) });
    $output .=  "\n    </div>";;
                ($_tt_value, $_tt_error) = $_tt_list->get_next();
            }
        };
        $stash->set('loop', $_tt_oldloop);
        die $@ if $@;
        $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
        die $_tt_error if $_tt_error;
    };
    
    $output .=  "\n\n  ";
#line 165 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['user', 0, 'is_timetracker', 0])) {
    $output .=  "\n    <div class=\"search_field_row\">";
#line 159 "template/en/default/search/form.html.tmpl"
    $output .=  $context->include('search/field.html.tmpl', { 'field' => $stash->get(['bug_fields', 0, 'deadline', 0]), 'accesskey' => 'l', 'value' => [ $stash->get(['default', 0, 'deadlinefrom', 0, 0, 0]), $stash->get(['default', 0, 'deadlineto', 0, 0, 0]) ] });
    $output .=  "\n    </div>";
    }
    
    $output .=  "\n\n  <div class=\"search_field_row\">\n    <span class=\"field_label\"><label for=\"bug_id\">";
#line 168 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['terms', 0, 'Bugs', 0]);
    $output .=  " numbered</label></span>\n    <div id=\"bug_id_container\" >\n      <input type=\"text\" name=\"bug_id\" id=\"bug_id\"\n           value=\"";
#line 171 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['default', 0, 'bug_id', 0, 0, 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\" size=\"20\">\n           <div class=\"field_help\">(comma-separated list)</div>\n    </div>\n    should be \n    <select name=\"bug_id_type\" id=\"bug_id_type\">\n      <option value=\"anyexact\"";
#line 176 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['default', 0, 'bug_id_type', 0, 0, 0]) eq 'anyexact') {
    $output .=  ' selected';
    }
    
    $output .=  ">only included in</option>\n      <option value=\"nowords\"";
#line 177 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['default', 0, 'bug_id_type', 0, 0, 0]) eq 'nowords') {
    $output .=  ' selected';
    }
    
    $output .=  ">excluded from</option>\n    </select> the results\n  </div>\n";
#line 181 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['Hook', 0, 'process', [ 'after_freetext_fields' ]]);
    $output .=  "\n  \n  ";
    $output .=  "\n  <div>";
#line 185 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['Hook', 0, 'process', [ 'before_selects_bottom' ]]);
#line 186 "template/en/default/search/form.html.tmpl"
    $stash->set('fake_version_field', { 'name' => $stash->get(['bug_fields', 0, 'version', 0, 'name', 0]), 'type' => '2'  });
#line 188 "template/en/default/search/form.html.tmpl"
    $output .=  $context->include('search/field.html.tmpl', { 'field' => $stash->get('fake_version_field'), 'value' => $stash->get(['default', 0, 'version', 0]) });
    $output .=  "                              ";
#line 199 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['Param', [ 'usetargetmilestone' ]])) {
#line 193 "template/en/default/search/form.html.tmpl"
    $stash->set('fake_target_milestone_field', { 'name' => $stash->get(['bug_fields', 0, 'target_milestone', 0, 'name', 0]), 'type' => '2'  });
#line 195 "template/en/default/search/form.html.tmpl"
    $output .=  $context->include('search/field.html.tmpl', { 'field' => $stash->get('fake_target_milestone_field'), 'value' => $stash->get(['default', 0, 'target_milestone', 0]) });
    }
    
#line 200 "template/en/default/search/form.html.tmpl"
    $output .=  $context->include('search/field.html.tmpl', { 'field' => $stash->get(['bug_fields', 0, 'bug_severity', 0]), 'accesskey' => 'v', 'value' => $stash->get(['default', 0, 'bug_severity', 0]) });
#line 205 "template/en/default/search/form.html.tmpl"
    $output .=  $context->include('search/field.html.tmpl', { 'field' => $stash->get(['bug_fields', 0, 'priority', 0]), 'accesskey' => 'i', 'value' => $stash->get(['default', 0, 'priority', 0]) });
    $output .=  "    ";
#line 210 "template/en/default/search/form.html.tmpl"
    $output .=  $context->include('search/field.html.tmpl', { 'field' => $stash->get(['bug_fields', 0, 'rep_platform', 0]), 'accesskey' => 'h', 'value' => $stash->get(['default', 0, 'rep_platform', 0]) });
    $output .=  "               ";
#line 215 "template/en/default/search/form.html.tmpl"
    $output .=  $context->include('search/field.html.tmpl', { 'field' => $stash->get(['bug_fields', 0, 'op_sys', 0]), 'accesskey' => 'o', 'value' => $stash->get(['default', 0, 'op_sys', 0]) });
    $output .=  "               ";
#line 220 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['Hook', 0, 'process', [ 'after_selects_bottom' ]]);
    $output .=  "\n  </div>\n</div>\n";
    $output .=  "\n  <div class=\"bz_section_title\" id=\"people_filter\">\n    <div id=\"people_query_controller\" class=\"arrow\">&#9660;</div>\n    <a href=\"javascript:TUI_toggle_class('people_query')\">Search By People</a>\n    <span>Narrow results to a role (i.e. ";
#line 227 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field_descs', 0, 'assigned_to', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  ",\n      ";
#line 228 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field_descs', 0, 'reporter', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  ", ";
#line 228 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field_descs', 0, 'commenter', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  ",\n      etc.) a person has on ";
#line 229 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['terms', 0, 'abug', 0]);
    $output .=  "\n    </span>\n  </div>\n  <div id=\"people_filter_section\" class=\"bz_search_section people_query\">";
#line 274 "template/en/default/search/form.html.tmpl"
    
    # FOREACH 
    do {
        my ($_tt_value, $_tt_error, $_tt_oldloop);
        my $_tt_list = [ 1, 2, 3 ];
        
        unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
            $_tt_list = Template::Config->iterator($_tt_list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($_tt_value, $_tt_error) = $_tt_list->get_first();
        eval { $_tt_oldloop = $stash->get('loop') };
        $stash->set('loop', $_tt_list);
        eval {
    FOR1:   while (! $_tt_error) {
                $stash->{'n'} = $_tt_value;
    $output .=  "\n    <div class=\"search_email_fields\">\n      Any of:";
#line 1 "template/en/default/search/form.html.tmpl"
    $output .=  $context->process('role_types', { 'field' => { 'count' => $stash->get('n'), 'name' => 'emailassigned_to', 'label' => ("the " . $stash->get(['terms', 0, 'Bug', 0]) . " " . $stash->get(['field_descs', 0, 'assigned_to', 0]))  } });
#line 1 "template/en/default/search/form.html.tmpl"
    $output .=  $context->process('role_types', { 'field' => { 'count' => $stash->get('n'), 'name' => 'emailreporter', 'label' => ("the " . $stash->get(['field_descs', 0, 'reporter', 0]))  } });
    $output .=  "    ";
#line 243 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['Param', [ 'useqacontact' ]])) {
#line 1 "template/en/default/search/form.html.tmpl"
    $output .=  $context->process('role_types', { 'field' => { 'count' => $stash->get('n'), 'name' => 'emailqa_contact', 'label' => ("the " . $stash->get(['field_descs', 0, 'qa_contact', 0]))  } });
    }
    
#line 1 "template/en/default/search/form.html.tmpl"
    $output .=  $context->process('role_types', { 'field' => { 'count' => $stash->get('n'), 'name' => 'emailcc', 'label' => ("a " . $stash->get(['field_descs', 0, 'cc', 0]) . " list member")  } });
#line 1 "template/en/default/search/form.html.tmpl"
    $output .=  $context->process('role_types', { 'field' => { 'count' => $stash->get('n'), 'name' => 'emaillongdesc', 'label' => (" a " . $stash->get(['field_descs', 0, 'commenter', 0]))  } });
    $output .=  "\n      <select name=\"emailtype";
#line 248 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get('n');
    $output .=  "\">";
#line 258 "template/en/default/search/form.html.tmpl"
    
    # FOREACH 
    do {
        my ($_tt_value, $_tt_error, $_tt_oldloop);
        my $_tt_list = [ { 'name' => 'substring', 'description' => 'contains'  }, { 'name' => 'notsubstring', 'description' => 'doesn\'t contain'  }, { 'name' => 'exact', 'description' => 'is'  }, { 'name' => 'notequals', 'description' => 'is not'  }, { 'name' => 'regexp', 'description' => 'matches regexp'  }, { 'name' => 'notregexp', 'description' => 'doesn\'t match regexp'  } ];
        
        unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
            $_tt_list = Template::Config->iterator($_tt_list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($_tt_value, $_tt_error) = $_tt_list->get_first();
        eval { $_tt_oldloop = $stash->get('loop') };
        $stash->set('loop', $_tt_list);
        eval {
    FOR2:   while (! $_tt_error) {
                $stash->{'qv'} = $_tt_value;
    $output .=  "\n        <option value=\"";
#line 256 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['qv', 0, 'name', 0]);
    $output .=  "\"";
#line 257 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['default', 0, 'emailtype', 0, $stash->get('n'), 0]) eq $stash->get(['qv', 0, 'name', 0])) {
    $output .=  ' selected';
    }
    
    $output .=  ">";
#line 257 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['qv', 0, 'description', 0]);
    $output .=  "</option>";;
                ($_tt_value, $_tt_error) = $_tt_list->get_next();
            }
        };
        $stash->set('loop', $_tt_oldloop);
        die $@ if $@;
        $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
        die $_tt_error if $_tt_error;
    };
    
    $output .=  "\n      </select>";
#line 262 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['feature_enabled', [ 'jsonrpc' ]]) && $stash->get(['Param', [ 'ajax_user_autocompletion' ]])) {
    $output .=  "\n        <div id=\"email";
#line 261 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get('n');
    $output .=  "_autocomplete\">";
    }
    
    $output .=  "\n      <input name=\"email";
#line 263 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get('n');
    $output .=  "\" class=\"email\" id=\"email";
#line 263 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get('n');
    $output .=  "\" \n             value=\"";
#line 264 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['default', 0, 'email', 0, $stash->get('n'), 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">";
#line 272 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['feature_enabled', [ 'jsonrpc' ]]) && $stash->get(['Param', [ 'ajax_user_autocompletion' ]])) {
    $output .=  "\n        <div id=\"email";
#line 266 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get('n');
    $output .=  "_autocomplete_container\"></div>\n        </div>\n        <script type=\"text/javascript\">\n          YAHOO.bugzilla.userAutocomplete.init( \"email";
#line 269 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get('n');
    $output .=  "\", \n                    \"email";
#line 270 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get('n');
    $output .=  "_autocomplete_container\");\n        </script>";
    }
    
    $output .=  "\n    </div>";;
                ($_tt_value, $_tt_error) = $_tt_list->get_next();
            }
        };
        $stash->set('loop', $_tt_oldloop);
        die $@ if $@;
        $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
        die $_tt_error if $_tt_error;
    };
    
#line 275 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['Hook', 0, 'process', [ 'email_numbering_end' ]]);
    $output .=  "\n   </div>\n";
    $output .=  "\n<div class=\"bz_section_title\" id=\"history_filter\">\n  <div id=\"history_query_controller\" class=\"arrow\">&#9660;</div>\n  <a href=\"javascript:TUI_toggle_class('history_query')\" >Search By Change History</a>\n  <span>Narrow results to how fields have changed during a specific time period</span>\n</div>\n<ul class=\"bug_changes bz_search_section history_query\" id=\"history_filter_section\" >\n  <li>\n    <label for=\"chfield\">where ANY of the fields:</label>\n    ";
#line 287 "template/en/default/search/form.html.tmpl"
    $stash->set('chfields', [ ]);
#line 290 "template/en/default/search/form.html.tmpl"
    
    # FOREACH 
    do {
        my ($_tt_value, $_tt_error, $_tt_oldloop);
        my $_tt_list = $stash->get('chfield');
        
        unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
            $_tt_list = Template::Config->iterator($_tt_list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($_tt_value, $_tt_error) = $_tt_list->get_first();
        eval { $_tt_oldloop = $stash->get('loop') };
        $stash->set('loop', $_tt_list);
        eval {
    FOR1:   while (! $_tt_error) {
                $stash->{'field'} = $_tt_value;
#line 289 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['chfields', 0, 'push', [ { 'value' => $stash->get('field'), 'desc' => ($stash->get(['field_descs', 0, $stash->get('field'), 0]) || $stash->get('field'))  } ]]);;
                ($_tt_value, $_tt_error) = $_tt_list->get_next();
            }
        };
        $stash->set('loop', $_tt_oldloop);
        die $@ if $@;
        $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
        die $_tt_error if $_tt_error;
    };
    
    $output .=  "\n    <select name=\"chfield\" id=\"chfield\" multiple=\"multiple\" size=\"4\">";
#line 296 "template/en/default/search/form.html.tmpl"
    
    # FOREACH 
    do {
        my ($_tt_value, $_tt_error, $_tt_oldloop);
        my $_tt_list = $stash->get(['chfields', 0, 'sort', [ 'desc' ]]);
        
        unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
            $_tt_list = Template::Config->iterator($_tt_list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($_tt_value, $_tt_error) = $_tt_list->get_first();
        eval { $_tt_oldloop = $stash->get('loop') };
        $stash->set('loop', $_tt_list);
        eval {
    FOR1:   while (! $_tt_error) {
                $stash->{'field'} = $_tt_value;
    $output .=  "\n      <option value=\"";
#line 293 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field', 0, 'value', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\"";
#line 294 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['default', 0, 'chfield', 0, 'contains', [ $stash->get(['field', 0, 'value', 0]) ]])) {
    $output .=  ' selected';
    }
    
    $output .=  ">";
#line 295 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field', 0, 'desc', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "</option>";;
                ($_tt_value, $_tt_error) = $_tt_list->get_next();
            }
        };
        $stash->set('loop', $_tt_oldloop);
        die $@ if $@;
        $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
        die $_tt_error if $_tt_error;
    };
    
    $output .=  "\n    </select>\n  </li>\n  <li>\n    <label for=\"chfieldvalue\">";
#line 300 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['search_descs', 0, 'changedto', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  ":</label>\n    <input name=\"chfieldvalue\" id=\"chfieldvalue\"\n           size=\"20\" value=\"";
#line 302 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['default', 0, 'chfieldvalue', 0, 0, 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">\n  </li>\n  <li>\n    <label for=\"chfieldfrom\">between:</label>\n    <input name=\"chfieldfrom\" id=\"chfieldfrom\" size=\"10\" \n           value=\"";
#line 307 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['default', 0, 'chfieldfrom', 0, 0, 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\" onchange=\"updateCalendarFromField(this)\"> \n           <button type=\"button\" class=\"calendar_button\"\n                          id=\"button_calendar_chfieldfrom\"\n                          onclick=\"showCalendar('chfieldfrom')\"><span>Calendar</span></button>\n           and \n           <div id=\"con_calendar_chfieldfrom\"></div>\n          <input name=\"chfieldto\" size=\"10\" id=\"chfieldto\" \n                 value=\"";
#line 314 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['default', 0, 'chfieldto', 0, 0, 0]) || 'Now';
        
        &$_tt_filter($output);
    };
    
    $output .=  "\" \n                 onchange=\"updateCalendarFromField(this)\">\n          <button type=\"button\" class=\"calendar_button\"\n                         id=\"button_calendar_chfieldto\"\n                         onclick=\"showCalendar('chfieldto')\"><span>Calendar</span></button>\n          <div id=\"con_calendar_chfieldto\"></div>\n    (YYYY-MM-DD or relative dates)\n    <script type=\"text/javascript\">\n      <!--\n        ";
#line 323 "template/en/default/search/form.html.tmpl"
    $output .=  $context->process('global/calendar.js.tmpl', { 'id' => 'chfieldfrom' });
#line 324 "template/en/default/search/form.html.tmpl"
    $output .=  $context->process('global/calendar.js.tmpl', { 'id' => 'chfieldto' });
    $output .=  "\n      //--></script>\n  </li>    \n</ul>\n\n";
    $output .=  "\n";
    $output .=  "\n";
    
    $output .=  "\n";
        } };
        if ($@) {
            $_tt_error = $context->catch($@, \$output);
            die $_tt_error unless $_tt_error->type eq 'return';
        }
    
        return $output;
    },
    DEFBLOCKS => {
        'role_types' => sub {
            my $context = shift || die "template sub called without context\n";
            my $stash   = $context->stash;
            my $output  = '';
            my $_tt_error;
            
            eval { BLOCK: {
        $output .=  "\n  <div class=\"role_type\">\n    <input type=\"checkbox\" name=\"";
#line 334 "template/en/default/search/form.html.tmpl"
        
        # FILTER
        $output .=  do {
            my $output = '';
            my $_tt_filter = $context->filter('html')
                      || $context->throw($context->error);
        
        $output .=  $stash->get(['field', 0, 'name', 0])  . $stash->get(['field', 0, 'count', 0]);
            
            &$_tt_filter($output);
        };
        
        $output .=  "\"\n           id=\"";
#line 335 "template/en/default/search/form.html.tmpl"
        
        # FILTER
        $output .=  do {
            my $output = '';
            my $_tt_filter = $context->filter('html')
                      || $context->throw($context->error);
        
        $output .=  $stash->get(['field', 0, 'name', 0])  . $stash->get(['field', 0, 'count', 0]);
            
            &$_tt_filter($output);
        };
        
        $output .=  "\" value=\"1\"";
#line 336 "template/en/default/search/form.html.tmpl"
        if ($stash->get(['default', 0, $stash->get(['field', 0, 'name', 0]), 0, $stash->get(['field', 0, 'count', 0]), 0])) {
        $output .=  ' checked';
        }
        
        $output .=  ">\n    <label for=\"";
#line 337 "template/en/default/search/form.html.tmpl"
        
        # FILTER
        $output .=  do {
            my $output = '';
            my $_tt_filter = $context->filter('html')
                      || $context->throw($context->error);
        
        $output .=  $stash->get(['field', 0, 'name', 0])  . $stash->get(['field', 0, 'count', 0]);
            
            &$_tt_filter($output);
        };
        
        $output .=  "\">";
#line 338 "template/en/default/search/form.html.tmpl"
        
        # FILTER
        $output .=  do {
            my $output = '';
            my $_tt_filter = $context->filter('html')
                      || $context->throw($context->error);
        
        $output .=  $stash->get(['field', 0, 'label', 0]);
            
            &$_tt_filter($output);
        };
        
        $output .=  "\n    </label>\n  </div>";
            } };
            if ($@) {
                $_tt_error = $context->catch($@, \$output);
                die $_tt_error unless $_tt_error->type eq 'return';
            }
        
            return $output;
        },
    },
});
